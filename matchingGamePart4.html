<!DOCTYPE html>
<html>
<head>
	<title>Matchin Game</title>

	<style type="text/css">
		
		img {
			position: absolute;
		}

		div {
			position: absolute;
			width: 500px;
			height: 500px;
		}

		#rightSide {
			left: 500px;
			border-left: 1px solid black;
		}
		
	</style>

</head>

<body>

<h2>Matching Game</h2>
<h4>Click on the extra smiling face on the left side.</h4>
<br>
<div id="leftSide"></div>
<div id="rightSide"></div>

<script type="text/javascript">
	numberOfFaces = 5;
	theLeftSide = document.getElementById("leftSide");
	theRightSide = document.getElementById("rightSide");
	theBody = document.getElementsByTagName("body")[0];

	function generateFaces() {

		while (theLeftSide.firstChild) {
                 theLeftSide.removeChild(theLeftSide.firstChild);
             }
             while (theRightSide.firstChild) {
                 theRightSide.removeChild(theRightSide.firstChild);
             }

		for (i = 0 ; i < numberOfFaces ; i++) {
			theImg = document.createElement("img");
			theImg.src = "http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
			random_position = Math.floor (Math.random() * 401);
			theImg.style.top = random_position + "px";
			random_position = Math.floor (Math.random() * 401);
			theImg.style.left = random_position + "px";
			theLeftSide.appendChild(theImg);
		}
		leftSideImages = theLeftSide.cloneNode(true);
		leftSideImages.removeChild(leftSideImages.lastChild);
		theRightSide.appendChild(leftSideImages);

		 theLeftSide.lastChild.onclick = function nextLevel(event){
                 event.stopPropagation();
                 numberOfFaces += 5;
                 generateFaces();
             }
	}
	generateFaces();
	 theBody.onclick = function gameOver() {
             alert("Game Over!");
             theBody.onclick = null;
             theLeftSide.lastChild.onclick = null;
         }
</script>
</body>
</html>